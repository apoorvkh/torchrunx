usage: transformers_train.py [-h] [OPTIONS]

â•­â”€ options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ -h, --help                                                                 â”‚
â”‚     show this help message and exit                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€ launcher options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Alias class for :func:`launch`. Refer to that function for documentation.  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ --launcher.hostnames {[STR [STR ...]]}|{auto,slurm}                        â”‚
â”‚     (default: auto)                                                        â”‚
â”‚ --launcher.workers-per-host INT|{[INT [INT ...]]}|{auto}                   â”‚
â”‚     (default: auto)                                                        â”‚
â”‚ --launcher.ssh-config-file {None}|STR|PATHLIKE                             â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --launcher.backend {None,nccl,gloo,mpi,ucc,auto}                           â”‚
â”‚     (default: auto)                                                        â”‚
â”‚ --launcher.timeout INT                                                     â”‚
â”‚     (default: 600)                                                         â”‚
â”‚ --launcher.default-env-vars [STR [STR ...]]                                â”‚
â”‚     (default: PATH LD_LIBRARY LIBRARY_PATH 'PYTHON*' 'CUDA*' 'TORCH*'      â”‚
â”‚     'PYTORCH*' 'NCCL*')                                                    â”‚
â”‚ --launcher.extra-env-vars [STR [STR ...]]                                  â”‚
â”‚     (default: )                                                            â”‚
â”‚ --launcher.env-file {None}|STR|PATHLIKE                                    â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --launcher.propagate-exceptions, --launcher.no-propagate-exceptions        â”‚
â”‚     (default: True)                                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€ model options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ --model.name STR                                                           â”‚
â”‚     (required)                                                             â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€ dataset options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ --dataset.path STR                                                         â”‚
â”‚     (required)                                                             â”‚
â”‚ --dataset.name {None}|STR                                                  â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --dataset.split {None}|STR                                                 â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --dataset.text-column STR                                                  â”‚
â”‚     (default: text)                                                        â”‚
â”‚ --dataset.num-samples {None}|INT                                           â”‚
â”‚     (default: None)                                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€ trainer options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ --trainer.output-dir STR                                                   â”‚
â”‚     The output directory where the model predictions and checkpoints will  â”‚
â”‚     be written. (required)                                                 â”‚
â”‚ --trainer.overwrite-output-dir, --trainer.no-overwrite-output-dir          â”‚
â”‚     Overwrite the content of the output directory. Use this to continue    â”‚
â”‚     training if output_dir points to a checkpoint directory. (default:     â”‚
â”‚     False)                                                                 â”‚
â”‚ --trainer.do-train, --trainer.no-do-train                                  â”‚
â”‚     Whether to run training. (default: False)                              â”‚
â”‚ --trainer.do-eval, --trainer.no-do-eval                                    â”‚
â”‚     Whether to run eval on the dev set. (default: False)                   â”‚
â”‚ --trainer.do-predict, --trainer.no-do-predict                              â”‚
â”‚     Whether to run predictions on the test set. (default: False)           â”‚
â”‚ --trainer.eval-strategy {NO,STEPS,EPOCH}|STR                               â”‚
â”‚     The evaluation strategy to use. (default: no)                          â”‚
â”‚ --trainer.prediction-loss-only, --trainer.no-prediction-loss-only          â”‚
â”‚     When performing evaluation and predictions, only returns the loss.     â”‚
â”‚     (default: False)                                                       â”‚
â”‚ --trainer.per-device-train-batch-size INT                                  â”‚
â”‚     Batch size per GPU/TPU/MPS/NPU core/CPU for training. (default: 8)     â”‚
â”‚ --trainer.per-device-eval-batch-size INT                                   â”‚
â”‚     Batch size per GPU/TPU/MPS/NPU core/CPU for evaluation. (default: 8)   â”‚
â”‚ --trainer.per-gpu-train-batch-size {None}|INT                              â”‚
â”‚     Deprecated, the use of `--per_device_train_batch_size` is preferred.   â”‚
â”‚     Batch size per GPU/TPU core/CPU for training. (default: None)          â”‚
â”‚ --trainer.per-gpu-eval-batch-size {None}|INT                               â”‚
â”‚     Deprecated, the use of `--per_device_eval_batch_size` is preferred.    â”‚
â”‚     Batch size per GPU/TPU core/CPU for evaluation. (default: None)        â”‚
â”‚ --trainer.gradient-accumulation-steps INT                                  â”‚
â”‚     Number of updates steps to accumulate before performing a              â”‚
â”‚     backward/update pass. (default: 1)                                     â”‚
â”‚ --trainer.eval-accumulation-steps {None}|INT                               â”‚
â”‚     Number of predictions steps to accumulate before moving the tensors to â”‚
â”‚     the CPU. (default: None)                                               â”‚
â”‚ --trainer.eval-delay {None}|FLOAT                                          â”‚
â”‚     Number of epochs or steps to wait for before the first evaluation can  â”‚
â”‚     be performed, depending on the eval_strategy. (default: 0)             â”‚
â”‚ --trainer.torch-empty-cache-steps {None}|INT                               â”‚
â”‚     Number of steps to wait before calling                                 â”‚
â”‚     `torch.<device>.empty_cache()`.This can help avoid CUDA out-of-memory  â”‚
â”‚     errors by lowering peak VRAM usage at a cost of about [10% slower      â”‚
â”‚     performance](https://github.com/huggingface/transformers/issues/31372â€¦ â”‚
â”‚     left unset or set to None, cache will not be emptied. (default: None)  â”‚
â”‚ --trainer.learning-rate FLOAT                                              â”‚
â”‚     The initial learning rate for AdamW. (default: 5e-05)                  â”‚
â”‚ --trainer.weight-decay FLOAT                                               â”‚
â”‚     Weight decay for AdamW if we apply some. (default: 0.0)                â”‚
â”‚ --trainer.adam-beta1 FLOAT                                                 â”‚
â”‚     Beta1 for AdamW optimizer (default: 0.9)                               â”‚
â”‚ --trainer.adam-beta2 FLOAT                                                 â”‚
â”‚     Beta2 for AdamW optimizer (default: 0.999)                             â”‚
â”‚ --trainer.adam-epsilon FLOAT                                               â”‚
â”‚     Epsilon for AdamW optimizer. (default: 1e-08)                          â”‚
â”‚ --trainer.max-grad-norm FLOAT                                              â”‚
â”‚     Max gradient norm. (default: 1.0)                                      â”‚
â”‚ --trainer.num-train-epochs FLOAT                                           â”‚
â”‚     Total number of training epochs to perform. (default: 3.0)             â”‚
â”‚ --trainer.max-steps INT                                                    â”‚
â”‚     If > 0: set total number of training steps to perform. Override        â”‚
â”‚     num_train_epochs. (default: -1)                                        â”‚
â”‚ --trainer.lr-scheduler-type                                                â”‚
â”‚ {LINEAR,COSINE,COSINE_WITH_RESTARTS,POLYNOMIAL,CONSTANT,CONSTANT_WITH_WARâ€¦ â”‚
â”‚     The scheduler type to use. (default: linear)                           â”‚
â”‚ --trainer.lr-scheduler-kwargs {None}|{[STR STR [STR STR ...]]}|STR         â”‚
â”‚     Extra parameters for the lr_scheduler such as {'num_cycles': 1} for    â”‚
â”‚     the cosine with hard restarts. (default: )                             â”‚
â”‚ --trainer.warmup-ratio FLOAT                                               â”‚
â”‚     Linear warmup over warmup_ratio fraction of total steps. (default:     â”‚
â”‚     0.0)                                                                   â”‚
â”‚ --trainer.warmup-steps INT                                                 â”‚
â”‚     Linear warmup over warmup_steps. (default: 0)                          â”‚
â”‚ --trainer.log-level {None}|STR                                             â”‚
â”‚     Logger log level to use on the main node. Possible choices are the log â”‚
â”‚     levels as strings: 'debug', 'info', 'warning', 'error' and 'critical', â”‚
â”‚     plus a 'passive' level which doesn't set anything and lets the         â”‚
â”‚     application set the level. Defaults to 'passive'. (default: passive)   â”‚
â”‚ --trainer.log-level-replica {None}|STR                                     â”‚
â”‚     Logger log level to use on replica nodes. Same choices and defaults as â”‚
â”‚     ``log_level`` (default: warning)                                       â”‚
â”‚ --trainer.log-on-each-node, --trainer.no-log-on-each-node                  â”‚
â”‚     When doing a multinode distributed training, whether to log once per   â”‚
â”‚     node or just once on the main node. (default: True)                    â”‚
â”‚ --trainer.logging-dir {None}|STR                                           â”‚
â”‚     Tensorboard log dir. (default: None)                                   â”‚
â”‚ --trainer.logging-strategy {NO,STEPS,EPOCH}|STR                            â”‚
â”‚     The logging strategy to use. (default: steps)                          â”‚
â”‚ --trainer.logging-first-step, --trainer.no-logging-first-step              â”‚
â”‚     Log the first global_step (default: False)                             â”‚
â”‚ --trainer.logging-steps FLOAT                                              â”‚
â”‚     Log every X updates steps. Should be an integer or a float in range    â”‚
â”‚     `[0,1)`. If smaller than 1, will be interpreted as ratio of total      â”‚
â”‚     training steps. (default: 500)                                         â”‚
â”‚ --trainer.logging-nan-inf-filter, --trainer.no-logging-nan-inf-filter      â”‚
â”‚     Filter nan and inf losses for logging. (default: True)                 â”‚
â”‚ --trainer.save-strategy {NO,STEPS,EPOCH,BEST}|STR                          â”‚
â”‚     The checkpoint save strategy to use. (default: steps)                  â”‚
â”‚ --trainer.save-steps FLOAT                                                 â”‚
â”‚     Save checkpoint every X updates steps. Should be an integer or a float â”‚
â”‚     in range `[0,1)`. If smaller than 1, will be interpreted as ratio of   â”‚
â”‚     total training steps. (default: 500)                                   â”‚
â”‚ --trainer.save-total-limit {None}|INT                                      â”‚
â”‚     If a value is passed, will limit the total amount of checkpoints.      â”‚
â”‚     Deletes the older checkpoints in `output_dir`. When                    â”‚
â”‚     `load_best_model_at_end` is enabled, the 'best' checkpoint according   â”‚
â”‚     to `metric_for_best_model` will always be retained in addition to the  â”‚
â”‚     most recent ones. For example, for `save_total_limit=5` and            â”‚
â”‚     `load_best_model_at_end=True`, the four last checkpoints will always   â”‚
â”‚     be retained alongside the best model. When `save_total_limit=1` and    â”‚
â”‚     `load_best_model_at_end=True`, it is possible that two checkpoints are â”‚
â”‚     saved: the last one and the best one (if they are different). Default  â”‚
â”‚     is unlimited checkpoints (default: None)                               â”‚
â”‚ --trainer.save-safetensors {None,True,False}                               â”‚
â”‚     Use safetensors saving and loading for state dicts instead of default  â”‚
â”‚     torch.load and torch.save. (default: True)                             â”‚
â”‚ --trainer.save-on-each-node, --trainer.no-save-on-each-node                â”‚
â”‚     When doing multi-node distributed training, whether to save models and â”‚
â”‚     checkpoints on each node, or only on the main one (default: False)     â”‚
â”‚ --trainer.save-only-model, --trainer.no-save-only-model                    â”‚
â”‚     When checkpointing, whether to only save the model, or also the        â”‚
â”‚     optimizer, scheduler & rng state.Note that when this is true, you      â”‚
â”‚     won't be able to resume training from checkpoint.This enables you to   â”‚
â”‚     save storage by not storing the optimizer, scheduler & rng state.You   â”‚
â”‚     can only load the model using from_pretrained with this option set to  â”‚
â”‚     True. (default: False)                                                 â”‚
â”‚ --trainer.restore-callback-states-from-checkpoint,                         â”‚
â”‚ --trainer.no-restore-callback-states-from-checkpoint                       â”‚
â”‚     Whether to restore the callback states from the checkpoint. If `True`, â”‚
â”‚     will override callbacks passed to the `Trainer` if they exist in the   â”‚
â”‚     checkpoint. (default: False)                                           â”‚
â”‚ --trainer.no-cuda, --trainer.no-no-cuda                                    â”‚
â”‚     This argument is deprecated. It will be removed in version 5.0 of ðŸ¤—   â”‚
â”‚     Transformers. (default: False)                                         â”‚
â”‚ --trainer.use-cpu, --trainer.no-use-cpu                                    â”‚
â”‚     Whether or not to use cpu. If set to False, we will use                â”‚
â”‚     cuda/tpu/mps/npu device if available. (default: False)                 â”‚
â”‚ --trainer.use-mps-device, --trainer.no-use-mps-device                      â”‚
â”‚     This argument is deprecated. `mps` device will be used if available    â”‚
â”‚     similar to `cuda` device. It will be removed in version 5.0 of ðŸ¤—      â”‚
â”‚     Transformers (default: False)                                          â”‚
â”‚ --trainer.seed INT                                                         â”‚
â”‚     Random seed that will be set at the beginning of training. (default:   â”‚
â”‚     42)                                                                    â”‚
â”‚ --trainer.data-seed {None}|INT                                             â”‚
â”‚     Random seed to be used with data samplers. (default: None)             â”‚
â”‚ --trainer.jit-mode-eval, --trainer.no-jit-mode-eval                        â”‚
â”‚     Whether or not to use PyTorch jit trace for inference (default: False) â”‚
â”‚ --trainer.use-ipex, --trainer.no-use-ipex                                  â”‚
â”‚     Use Intel extension for PyTorch when it is available, installation:    â”‚
â”‚     'https://github.com/intel/intel-extension-for-pytorch' (default:       â”‚
â”‚     False)                                                                 â”‚
â”‚ --trainer.bf16, --trainer.no-bf16                                          â”‚
â”‚     Whether to use bf16 (mixed) precision instead of 32-bit. Requires      â”‚
â”‚     Ampere or higher NVIDIA architecture or using CPU (use_cpu) or Ascend  â”‚
â”‚     NPU. This is an experimental API and it may change. (default: False)   â”‚
â”‚ --trainer.fp16, --trainer.no-fp16                                          â”‚
â”‚     Whether to use fp16 (mixed) precision instead of 32-bit (default:      â”‚
â”‚     False)                                                                 â”‚
â”‚ --trainer.fp16-opt-level STR                                               â”‚
â”‚     For fp16: Apex AMP optimization level selected in ['O0', 'O1', 'O2',   â”‚
â”‚     and 'O3']. See details at https://nvidia.github.io/apex/amp.html       â”‚
â”‚     (default: O1)                                                          â”‚
â”‚ --trainer.half-precision-backend STR                                       â”‚
â”‚     The backend to be used for half precision. (default: auto)             â”‚
â”‚ --trainer.bf16-full-eval, --trainer.no-bf16-full-eval                      â”‚
â”‚     Whether to use full bfloat16 evaluation instead of 32-bit. This is an  â”‚
â”‚     experimental API and it may change. (default: False)                   â”‚
â”‚ --trainer.fp16-full-eval, --trainer.no-fp16-full-eval                      â”‚
â”‚     Whether to use full float16 evaluation instead of 32-bit (default:     â”‚
â”‚     False)                                                                 â”‚
â”‚ --trainer.tf32 {None,True,False}                                           â”‚
â”‚     Whether to enable tf32 mode, available in Ampere and newer GPU         â”‚
â”‚     architectures. This is an experimental API and it may change.          â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.local-rank INT                                                   â”‚
â”‚     For distributed training: local_rank (default: -1)                     â”‚
â”‚ --trainer.ddp-backend {None}|STR                                           â”‚
â”‚     The backend to be used for distributed training (default: None)        â”‚
â”‚ --trainer.tpu-num-cores {None}|INT                                         â”‚
â”‚     TPU: Number of TPU cores (automatically passed by launcher script)     â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.tpu-metrics-debug, --trainer.no-tpu-metrics-debug                â”‚
â”‚     Deprecated, the use of `--debug tpu_metrics_debug` is preferred. TPU:  â”‚
â”‚     Whether to print debug metrics (default: False)                        â”‚
â”‚ --trainer.debug STR|{[{UNDERFLOW_OVERFLOW,TPU_METRICS_DEBUG} [...]]}       â”‚
â”‚     Whether or not to enable debug mode. Current options:                  â”‚
â”‚     `underflow_overflow` (Detect underflow and overflow in activations and â”‚
â”‚     weights), `tpu_metrics_debug` (print debug metrics on TPU). (default:  â”‚
â”‚     '')                                                                    â”‚
â”‚ --trainer.dataloader-drop-last, --trainer.no-dataloader-drop-last          â”‚
â”‚     Drop the last incomplete batch if it is not divisible by the batch     â”‚
â”‚     size. (default: False)                                                 â”‚
â”‚ --trainer.eval-steps {None}|FLOAT                                          â”‚
â”‚     Run an evaluation every X steps. Should be an integer or a float in    â”‚
â”‚     range `[0,1)`. If smaller than 1, will be interpreted as ratio of      â”‚
â”‚     total training steps. (default: None)                                  â”‚
â”‚ --trainer.dataloader-num-workers INT                                       â”‚
â”‚     Number of subprocesses to use for data loading (PyTorch only). 0 means â”‚
â”‚     that the data will be loaded in the main process. (default: 0)         â”‚
â”‚ --trainer.dataloader-prefetch-factor {None}|INT                            â”‚
â”‚     Number of batches loaded in advance by each worker. 2 means there will â”‚
â”‚     be a total of 2 * num_workers batches prefetched across all workers.   â”‚
â”‚     Default is 2 for PyTorch < 2.0.0 and otherwise None. (default: None)   â”‚
â”‚ --trainer.past-index INT                                                   â”‚
â”‚     If >=0, uses the corresponding part of the output as the past state    â”‚
â”‚     for next step. (default: -1)                                           â”‚
â”‚ --trainer.run-name {None}|STR                                              â”‚
â”‚     An optional descriptor for the run. Notably used for wandb, mlflow and â”‚
â”‚     comet logging. (default: None)                                         â”‚
â”‚ --trainer.disable-tqdm {None,True,False}                                   â”‚
â”‚     Whether or not to disable the tqdm progress bars. (default: None)      â”‚
â”‚ --trainer.remove-unused-columns {None,True,False}                          â”‚
â”‚     Remove columns not required by the model when using an nlp.Dataset.    â”‚
â”‚     (default: True)                                                        â”‚
â”‚ --trainer.label-names {None}|{[STR [STR ...]]}                             â”‚
â”‚     The list of keys in your dictionary of inputs that correspond to the   â”‚
â”‚     labels. (default: None)                                                â”‚
â”‚ --trainer.load-best-model-at-end {None,True,False}                         â”‚
â”‚     Whether or not to load the best model found during training at the end â”‚
â”‚     of training. When this option is enabled, the best checkpoint will     â”‚
â”‚     always be saved. See `save_total_limit` for more. (default: False)     â”‚
â”‚ --trainer.metric-for-best-model {None}|STR                                 â”‚
â”‚     The metric to use to compare two different models. (default: None)     â”‚
â”‚ --trainer.greater-is-better {None,True,False}                              â”‚
â”‚     Whether the `metric_for_best_model` should be maximized or not.        â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.ignore-data-skip, --trainer.no-ignore-data-skip                  â”‚
â”‚     When resuming training, whether or not to skip the first epochs and    â”‚
â”‚     batches to get to the same training data. (default: False)             â”‚
â”‚ --trainer.fsdp                                                             â”‚
â”‚ {None}|{[{FULL_SHARD,SHARD_GRAD_OP,NO_SHARD,HYBRID_SHARD,HYBRID_SHARD_ZERâ€¦ â”‚
â”‚ [...]]}|STR                                                                â”‚
â”‚     Whether or not to use PyTorch Fully Sharded Data Parallel (FSDP)       â”‚
â”‚     training (in distributed training only). The base option should be     â”‚
â”‚     `full_shard`, `shard_grad_op` or `no_shard` and you can add            â”‚
â”‚     CPU-offload to `full_shard` or `shard_grad_op` like this: full_shard   â”‚
â”‚     offload` or `shard_grad_op offload`. You can add auto-wrap to          â”‚
â”‚     `full_shard` or `shard_grad_op` with the same syntax: full_shard       â”‚
â”‚     auto_wrap` or `shard_grad_op auto_wrap`. (default: '')                 â”‚
â”‚ --trainer.fsdp-min-num-params INT                                          â”‚
â”‚     This parameter is deprecated. FSDP's minimum number of parameters for  â”‚
â”‚     Default Auto Wrapping. (useful only when `fsdp` field is passed).      â”‚
â”‚     (default: 0)                                                           â”‚
â”‚ --trainer.fsdp-config {None}|{[STR STR [STR STR ...]]}|STR                 â”‚
â”‚     Config to be used with FSDP (Pytorch Fully Sharded  Data Parallel).    â”‚
â”‚     The value is either a fsdp json config file (e.g., `fsdp_config.json`) â”‚
â”‚     or an already loaded json file as `dict`. (default: None)              â”‚
â”‚ --trainer.fsdp-transformer-layer-cls-to-wrap {None}|STR                    â”‚
â”‚     This parameter is deprecated. Transformer layer class name             â”‚
â”‚     (case-sensitive) to wrap, e.g, `BertLayer`, `GPTJBlock`, `T5Block`     â”‚
â”‚     .... (useful only when `fsdp` flag is passed). (default: None)         â”‚
â”‚ --trainer.accelerator-config {None}|{[STR STR [STR STR ...]]}|STR          â”‚
â”‚     Config to be used with the internal Accelerator object initializtion.  â”‚
â”‚     The value is either a accelerator json config file (e.g.,              â”‚
â”‚     `accelerator_config.json`) or an already loaded json file as `dict`.   â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.deepspeed {None}|{[STR STR [STR STR ...]]}|STR                   â”‚
â”‚     Enable deepspeed and pass the path to deepspeed json config file (e.g. â”‚
â”‚     `ds_config.json`) or an already loaded json file as a dict (default:   â”‚
â”‚     None)                                                                  â”‚
â”‚ --trainer.label-smoothing-factor FLOAT                                     â”‚
â”‚     The label smoothing epsilon to apply (zero means no label smoothing).  â”‚
â”‚     (default: 0.0)                                                         â”‚
â”‚ --trainer.optim                                                            â”‚
â”‚ {ADAMW_HF,ADAMW_TORCH,ADAMW_TORCH_FUSED,ADAMW_TORCH_XLA,ADAMW_TORCH_NPU_Fâ€¦ â”‚
â”‚     The optimizer to use. (default: adamw_torch)                           â”‚
â”‚ --trainer.optim-args {None}|STR                                            â”‚
â”‚     Optional arguments to supply to optimizer. (default: None)             â”‚
â”‚ --trainer.adafactor, --trainer.no-adafactor                                â”‚
â”‚     Whether or not to replace AdamW by Adafactor. (default: False)         â”‚
â”‚ --trainer.group-by-length, --trainer.no-group-by-length                    â”‚
â”‚     Whether or not to group samples of roughly the same length together    â”‚
â”‚     when batching. (default: False)                                        â”‚
â”‚ --trainer.length-column-name {None}|STR                                    â”‚
â”‚     Column name with precomputed lengths to use when grouping by length.   â”‚
â”‚     (default: length)                                                      â”‚
â”‚ --trainer.report-to {None}|STR|{[STR [STR ...]]}                           â”‚
â”‚     The list of integrations to report the results and logs to. (default:  â”‚
â”‚     None)                                                                  â”‚
â”‚ --trainer.ddp-find-unused-parameters {None,True,False}                     â”‚
â”‚     When using distributed training, the value of the flag                 â”‚
â”‚     `find_unused_parameters` passed to `DistributedDataParallel`.          â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.ddp-bucket-cap-mb {None}|INT                                     â”‚
â”‚     When using distributed training, the value of the flag `bucket_cap_mb` â”‚
â”‚     passed to `DistributedDataParallel`. (default: None)                   â”‚
â”‚ --trainer.ddp-broadcast-buffers {None,True,False}                          â”‚
â”‚     When using distributed training, the value of the flag                 â”‚
â”‚     `broadcast_buffers` passed to `DistributedDataParallel`. (default:     â”‚
â”‚     None)                                                                  â”‚
â”‚ --trainer.dataloader-pin-memory, --trainer.no-dataloader-pin-memory        â”‚
â”‚     Whether or not to pin memory for DataLoader. (default: True)           â”‚
â”‚ --trainer.dataloader-persistent-workers,                                   â”‚
â”‚ --trainer.no-dataloader-persistent-workers                                 â”‚
â”‚     If True, the data loader will not shut down the worker processes after â”‚
â”‚     a dataset has been consumed once. This allows to maintain the workers  â”‚
â”‚     Dataset instances alive. Can potentially speed up training, but will   â”‚
â”‚     increase RAM usage. (default: False)                                   â”‚
â”‚ --trainer.skip-memory-metrics, --trainer.no-skip-memory-metrics            â”‚
â”‚     Whether or not to skip adding of memory profiler reports to metrics.   â”‚
â”‚     (default: True)                                                        â”‚
â”‚ --trainer.use-legacy-prediction-loop,                                      â”‚
â”‚ --trainer.no-use-legacy-prediction-loop                                    â”‚
â”‚     Whether or not to use the legacy prediction_loop in the Trainer.       â”‚
â”‚     (default: False)                                                       â”‚
â”‚ --trainer.push-to-hub, --trainer.no-push-to-hub                            â”‚
â”‚     Whether or not to upload the trained model to the model hub after      â”‚
â”‚     training. (default: False)                                             â”‚
â”‚ --trainer.resume-from-checkpoint {None}|STR                                â”‚
â”‚     The path to a folder with a valid checkpoint for your model. (default: â”‚
â”‚     None)                                                                  â”‚
â”‚ --trainer.hub-model-id {None}|STR                                          â”‚
â”‚     The name of the repository to keep in sync with the local              â”‚
â”‚     `output_dir`. (default: None)                                          â”‚
â”‚ --trainer.hub-strategy {END,EVERY_SAVE,CHECKPOINT,ALL_CHECKPOINTS}|STR     â”‚
â”‚     The hub strategy to use when `--push_to_hub` is activated. (default:   â”‚
â”‚     every_save)                                                            â”‚
â”‚ --trainer.hub-token {None}|STR                                             â”‚
â”‚     The token to use to push to the Model Hub. (default: None)             â”‚
â”‚ --trainer.hub-private-repo {None,True,False}                               â”‚
â”‚     Whether to make the repo private. If `None` (default), the repo will   â”‚
â”‚     be public unless the organization's default is private. This value is  â”‚
â”‚     ignored if the repo already exists. (default: None)                    â”‚
â”‚ --trainer.hub-always-push, --trainer.no-hub-always-push                    â”‚
â”‚     Unless `True`, the Trainer will skip pushes if the previous one wasn't â”‚
â”‚     finished yet. (default: False)                                         â”‚
â”‚ --trainer.gradient-checkpointing, --trainer.no-gradient-checkpointing      â”‚
â”‚     If True, use gradient checkpointing to save memory at the expense of   â”‚
â”‚     slower backward pass. (default: False)                                 â”‚
â”‚ --trainer.gradient-checkpointing-kwargs {None}|{[STR STR [STR STR          â”‚
â”‚ ...]]}|STR                                                                 â”‚
â”‚     Gradient checkpointing key word arguments such as `use_reentrant`.     â”‚
â”‚     Will be passed to `torch.utils.checkpoint.checkpoint` through          â”‚
â”‚     `model.gradient_checkpointing_enable`. (default: None)                 â”‚
â”‚ --trainer.include-inputs-for-metrics,                                      â”‚
â”‚ --trainer.no-include-inputs-for-metrics                                    â”‚
â”‚     This argument is deprecated and will be removed in version 5 of ðŸ¤—     â”‚
â”‚     Transformers. Use `include_for_metrics` instead. (default: False)      â”‚
â”‚ --trainer.include-for-metrics [STR [STR ...]]                              â”‚
â”‚     List of strings to specify additional data to include in the           â”‚
â”‚     `compute_metrics` function.Options: 'inputs', 'loss'. (default: )      â”‚
â”‚ --trainer.eval-do-concat-batches, --trainer.no-eval-do-concat-batches      â”‚
â”‚     Whether to recursively concat inputs/losses/labels/predictions across  â”‚
â”‚     batches. If `False`, will instead store them as lists, with each batch â”‚
â”‚     kept separate. (default: True)                                         â”‚
â”‚ --trainer.fp16-backend STR                                                 â”‚
â”‚     Deprecated. Use half_precision_backend instead (default: auto)         â”‚
â”‚ --trainer.evaluation-strategy {None,NO,STEPS,EPOCH}|STR                    â”‚
â”‚     Deprecated. Use `eval_strategy` instead (default: None)                â”‚
â”‚ --trainer.push-to-hub-model-id {None}|STR                                  â”‚
â”‚     The name of the repository to which push the `Trainer`. (default:      â”‚
â”‚     None)                                                                  â”‚
â”‚ --trainer.push-to-hub-organization {None}|STR                              â”‚
â”‚     The name of the organization in with to which push the `Trainer`.      â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.push-to-hub-token {None}|STR                                     â”‚
â”‚     The token to use to push to the Model Hub. (default: None)             â”‚
â”‚ --trainer.mp-parameters STR                                                â”‚
â”‚     Used by the SageMaker launcher to send mp-specific args. Ignored in    â”‚
â”‚     Trainer (default: '')                                                  â”‚
â”‚ --trainer.auto-find-batch-size, --trainer.no-auto-find-batch-size          â”‚
â”‚     Whether to automatically decrease the batch size in half and rerun the â”‚
â”‚     training loop again each time a CUDA Out-of-Memory was reached         â”‚
â”‚     (default: False)                                                       â”‚
â”‚ --trainer.full-determinism, --trainer.no-full-determinism                  â”‚
â”‚     Whether to call enable_full_determinism instead of set_seed for        â”‚
â”‚     reproducibility in distributed training. Important: this will          â”‚
â”‚     negatively impact the performance, so only use it for debugging.       â”‚
â”‚     (default: False)                                                       â”‚
â”‚ --trainer.torchdynamo {None}|STR                                           â”‚
â”‚     This argument is deprecated, use `--torch_compile_backend` instead.    â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.ray-scope {None}|STR                                             â”‚
â”‚     The scope to use when doing hyperparameter search with Ray. By         â”‚
â”‚     default, `"last"` will be used. Ray will then use the last checkpoint  â”‚
â”‚     of all trials, compare those, and select the best one. However, other  â”‚
â”‚     options are also available. See the Ray documentation                  â”‚
â”‚     (https://docs.ray.io/en/latest/tune/api_docs/analysis.html#ray.tune.Eâ€¦ â”‚
â”‚     for more options. (default: last)                                      â”‚
â”‚ --trainer.ddp-timeout {None}|INT                                           â”‚
â”‚     Overrides the default timeout for distributed training (value should   â”‚
â”‚     be given in seconds). (default: 1800)                                  â”‚
â”‚ --trainer.torch-compile, --trainer.no-torch-compile                        â”‚
â”‚     If set to `True`, the model will be wrapped in `torch.compile`.        â”‚
â”‚     (default: False)                                                       â”‚
â”‚ --trainer.torch-compile-backend {None}|STR                                 â”‚
â”‚     Which backend to use with `torch.compile`, passing one will trigger a  â”‚
â”‚     model compilation. (default: None)                                     â”‚
â”‚ --trainer.torch-compile-mode {None}|STR                                    â”‚
â”‚     Which mode to use with `torch.compile`, passing one will trigger a     â”‚
â”‚     model compilation. (default: None)                                     â”‚
â”‚ --trainer.dispatch-batches {None,True,False}                               â”‚
â”‚     Deprecated. Pass {'dispatch_batches':VALUE} to `accelerator_config`.   â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.split-batches {None,True,False}                                  â”‚
â”‚     Deprecated. Pass {'split_batches':True} to `accelerator_config`.       â”‚
â”‚     (default: None)                                                        â”‚
â”‚ --trainer.include-tokens-per-second {None,True,False}                      â”‚
â”‚     If set to `True`, the speed metrics will include `tgs` (tokens per     â”‚
â”‚     second per device). (default: False)                                   â”‚
â”‚ --trainer.include-num-input-tokens-seen {None,True,False}                  â”‚
â”‚     If set to `True`, will track the number of input tokens seen           â”‚
â”‚     throughout training. (May be slower in distributed training) (default: â”‚
â”‚     False)                                                                 â”‚
â”‚ --trainer.neftune-noise-alpha {None}|FLOAT                                 â”‚
â”‚     Activates neftune noise embeddings into the model. NEFTune has been    â”‚
â”‚     proven to drastically improve model performances for instrcution       â”‚
â”‚     fine-tuning. Check out the original paper here:                        â”‚
â”‚     https://arxiv.org/abs/2310.05914 and the original code here:           â”‚
â”‚     https://github.com/neelsjain/NEFTune. Only supported for               â”‚
â”‚     `PreTrainedModel` and `PeftModel` classes. (default: None)             â”‚
â”‚ --trainer.optim-target-modules {None}|STR|{[STR [STR ...]]}                â”‚
â”‚     Target modules for the optimizer defined in the `optim` argument. Only â”‚
â”‚     used for the GaLore optimizer at the moment. (default: None)           â”‚
â”‚ --trainer.batch-eval-metrics, --trainer.no-batch-eval-metrics              â”‚
â”‚     Break eval metrics calculation into batches to save memory. (default:  â”‚
â”‚     False)                                                                 â”‚
â”‚ --trainer.eval-on-start, --trainer.no-eval-on-start                        â”‚
â”‚     Whether to run through the entire `evaluation` step at the very        â”‚
â”‚     beginning of training as a sanity check. (default: False)              â”‚
â”‚ --trainer.use-liger-kernel {None,True,False}                               â”‚
â”‚     Whether or not to enable the Liger Kernel for model training.          â”‚
â”‚     (default: False)                                                       â”‚
â”‚ --trainer.eval-use-gather-object {None,True,False}                         â”‚
â”‚     Whether to run recursively gather object in a nested                   â”‚
â”‚     list/tuple/dictionary of objects from all devices. (default: False)    â”‚
â”‚ --trainer.average-tokens-across-devices {None,True,False}                  â”‚
â”‚     Whether or not to average tokens across devices. If enabled, will use  â”‚
â”‚     all_reduce to synchronize num_tokens_in_batch for precise loss         â”‚
â”‚     calculation. Reference:                                                â”‚
â”‚     https://github.com/huggingface/transformers/issues/34242 (default:     â”‚
â”‚     False)                                                                 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
